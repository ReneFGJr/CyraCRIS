<body class="bg-light">
  <div class="container my-4">
    <div class="d-flex align-items-center mb-3">
      <h1 class="h3 mb-0">Organization Unit Details</h1>
      <span class="badge text-bg-secondary ms-3">ID {{ data.get('ID', '—') }}</span>
    </div>

    <!-- Resumo do conceito -->
    <div class="card shadow-sm mb-4">
      <div class="card-body">
        <div class="row g-3">
          <div class="col-md-2">
            <div class="fw-semibold text-muted small">Class</div>
            <div>{{ data.get('concept', {}).get('class', '—') }}</div>
          </div>
          <div class="col-md-10">
            <div class="fw-semibold text-muted small">Label</div>
            <div>{{ data.get('concept', {}).get('name', '—') }}</div>
          </div>
          <div class="col-md-2">
            <div class="fw-semibold text-muted small">Concept ID</div>
            <div>{{ data.get('concept', {}).get('ID', '—') }}</div>
          </div>
          <div class="col-md-2">
            <div class="fw-semibold text-muted small">Created At</div>
            <div>{{ data.get('concept', {}).get('created', '—') }}</div>
          </div>

          <div class="col-md-2">
            <div class="fw-semibold text-muted small">Update</div>
            <div>{{ data.get('concept', {}).get('updated', '—') }}</div>
          </div>

          <div class="col-md-2">
            <div class="fw-semibold text-muted small">Origin</div>
            <div>{{ data.get('concept', {}).get('origin', '—') }}</div>
          </div>

        </div>
      </div>
    </div>

    <!-- Tabela de propriedades/valores -->
    <div class="card shadow-sm">
      <div class="card-header bg-white">
        <strong>Propriedades</strong>
      </div>
      <div class="card-body p-0">
        <div class="table-responsive">
          <table class="table table-striped table-hover mb-0 align-middle">
            <thead class="table-light">
              <tr>
                <th style="width: 15%">Property</th>
                <th style="width: 80%">Name</th>
                <th style="width: 5%">Lang</th>
                <th style="width: 5%">#</th>
              </tr>
            </thead>
            <tbody>
              {% for row in data.get('data', []) %}
              <tr>
                <td>{{ row.get('Property', '—') }}</td>
                <td>{{ row.get('Name', '—') }}</td>
                <td>{{ row.get('Lang', '—') }}</td>

                <td class="text-center">
                  {% if row.get('Property') == 'altLabel' and row.get('ID') != 0 %}
                    <a href="/orgunit/ulink/{{ row.get('ID') }}" 
                      target="_blank" 
                      class="btn btn-sm btn-outline-primary" 
                      title="Abrir Organização">
                      <i class="bi bi-trash"></i>
                    </a>
                  {% endif %}
                </td>

              </tr>
              {% else %}
              <tr>
                <td colspan="3" class="text-center text-muted py-4">Sem propriedades para exibir.</td>
              </tr>
              {% endfor %}
            </tbody>
          </table>
        </div>
      </div>
    </div>

    <!-- Debug opcional -->
    <!--
  <pre class="mt-4 small bg-white p-3 border rounded">{{ data | tojson(indent=2) }}</pre>
  -->
  </div>
</body>

</html>

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
